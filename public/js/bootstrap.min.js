/**
 * @license
 * Copyright (C) 2013 Shawn
 * This program is licensed under the MIT license.
 */

var VAR_AUTO_DEBUG=!1,RELEASE_LOCAL_REPO=!1;!function(){var e=function(){return{DOMAIN:"plug.dj",DEBUG:VAR_AUTO_DEBUG,TIMEOUT_LOADING:5e3,INTERVAL_RETRY:1e3,MAX_NUM_RETRIES:2,PROTOCOL:"//",intervalWaitDeps:{core:100,module:200,dom:500},isAborted:!1,numFiles:void 0,numLoadedFiles:0,loadedFiles:{},excludedPaths:["/","/dashboard"],requiredVariables:["require","define","jQuery","_","API"],requiredModule:"core",requiredDoms:["#app","#playback"],dirs:{script:"js/",stylesheet:"css/",vendor:"vendor/"},baseDirs:{debug:"localhost/Plugbot-Enhanced/assets/",release:RELEASE_LOCAL_REPO?"localhost/Plugbot-Enhanced/public/":"ebola777.github.io/files/Plugbot-Enhanced/public/"},files:{debug:"main.js",release:"main.min.js"},scripts:[],stylesheets:["project!style.css"],init:function(){var e=this;this.verifySite()?(this.DEBUG&&console.info("Plugbot Initializing..."),this.removeBookmarkScript(),this.waitCore(function(){e.waitModule(function(){e.waitDoms(function(){e.loadFiles()})})})):console.warn("Plugbot Not Bootstrapped Because of Wrong Url.")},config:function(){var e=this.PROTOCOL+(this.DEBUG?this.baseDirs.debug:this.baseDirs.release),i=this.PROTOCOL+this.baseDirs.release+this.dirs.vendor;requirejs.config({paths:{angular:"//ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min",domReady:i+"requirejs-domready/js/domReady.min",plugbot:e+this.dirs.script},shim:{angular:{exports:"angular"}}})},loadApp:function(){var e=this,i=this.PROTOCOL+(this.DEBUG?this.baseDirs.debug:this.baseDirs.release),t=this.DEBUG?this.files.debug:this.files.release,s=i+this.dirs.script+t;this.config(),require(["angular"],function(){require([s],function(){e.DEBUG&&console.info("Plugbot Bootstrapped.")})})},loadFiles:function(){function e(e,r,n){var a,l;for(i=0;i<e.length;i+=1)a=e[i],l=a.substr(0,o.length),r.push(o===l?s+n+a.substr(a.length-o.length-1):t.PROTOCOL+a)}var i,t=this,s=this.PROTOCOL+(this.DEBUG?this.baseDirs.debug:this.baseDirs.release),o="project!",r=[],n=[];for(e(this.scripts,r,this.dirs.script),e(this.stylesheets,n,this.dirs.stylesheet),this.numFiles=r.length+n.length,i=0;i!==r.length;i+=1)this.loadScript(r[i]);for(i=0;i!==n.length;i+=1)this.loadStylesheet(n[i]);0===this.numFiles&&this.loadApp()},loadScript:function(e,i){var t=this;this.getScript(e,{timeout:this.TIMEOUT_LOADING},function(){t.isAborted||t.fileDone(e)},function(s){t.isAborted||(i=i||0,i===t.MAX_NUM_RETRIES?t.fileFail(e,{error:s.status}):setTimeout(function(){t.isAborted||t.isFileLoaded(e)||t.loadScript(e,i+1)},t.INTERVAL_RETRY))})},loadStylesheet:function(e,i){var t=this;this.getCss(e,{timeout:this.TIMEOUT_LOADING,"class":"plugbot-css"},function(){t.isAborted||t.fileDone(e)},function(){t.isAborted||(i=i||0,i===t.MAX_NUM_RETRIES?t.fileFail(e,{error:"Timeout"}):setTimeout(function(){t.isAborted||t.isFileLoaded(e)||t.loadStylesheet(e,i+1)},t.INTERVAL_RETRY))})},getScript:function(e,i,t,s){$.ajax({url:e,dataType:"script",crossDomain:!0,timeout:i.timeout,cache:this.DEBUG}).done(t).fail(s)},getCss:function(e,i,t,s){var o,r;o=$("<link>",{"class":i.class,rel:"stylesheet",type:"text/css",href:e}),r=setTimeout(s,i.timeout),o[0].onload=function(){clearTimeout(r),t()},$(document.head).append(o)},fileDone:function(e){this.isFileLoaded(e)||(this.numLoadedFiles+=1,this.loadedFiles[e]=!0,this.numLoadedFiles===this.numFiles&&this.loadApp())},fileFail:function(e,i){this.isAborted||(this.isAborted=!0,i.error=i.error||"Unknown",alert("[Plugbot] Failed to Load the File, Stopping Now.\n\nFile: "+e+"\nError: "+i.error))},isFileLoaded:function(e){return void 0!==this.loadedFiles[e]},removeBookmarkScript:function(){var e=document.getElementById("plugbot-js");e&&e.parentElement.removeChild(e)},verifySite:function(){var e,i=document.domain.toUpperCase(),t=window.location.pathname.toUpperCase(),s=this.excludedPaths,o=!0;if(this.DOMAIN.toUpperCase()===i){for(e in s)if(s.hasOwnProperty(e)&&s[e].toUpperCase()===t){o=!1;break}}else o=!1;return o},waitCore:function(e){var i,t,s=0,o=this.requiredVariables;t=this.requiredVariables[0],i=setInterval(function(){window[t]&&(s+=1,s>=o.length?(clearInterval(i),e()):t=o[s])},this.intervalWaitDeps.core)},waitModule:function(e){var i=this,t=setInterval(function(){requirejs.specified(i.requiredModule)&&(clearInterval(t),e())},this.intervalWaitDeps.module)},waitDoms:function(e){var i,t,s=0,o=this.requiredDoms;t=o[0],i=setInterval(function(){$(t).length&&(s+=1,s>=o.length?(clearInterval(i),e()):t=o[s])},this.intervalWaitDeps.dom)}}}();e.init()}(),define("bootstrap",function(){});